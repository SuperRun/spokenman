<!--散装办发布考试-->
<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1">
    <link href="../../bootstrap-3.3.6-dist/css/bootstrap.min.css" type="text/css" rel="stylesheet"/>
    <link href="../../css/common.css" type="text/css" rel="stylesheet"/>
    <link href="../../css/questionImport_style.css" type="text/css" rel="stylesheet"/>
    <link href="http://cdn.bootcss.com/bootstrap-fileinput/4.3.5/css/fileinput.min.css" rel="stylesheet">
    <link href="../../bootstrap-datetimepicker-master/css/bootstrap-datetimepicker.min.css" type="text/css" rel="stylesheet"/>
    <script type="text/javascript" src="../../js/jquery-1.12.1.js"></script>
    <script type="text/javascript" src="../../bootstrap-3.3.6-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../bootstrap-datetimepicker-master/js/bootstrap-datetimepicker.min.js"></script>
    <script type="text/javascript" src="../../bootstrap-datetimepicker-master/js/locales/bootstrap-datetimepicker.zh-CN.js"></script>
    <script type="text/javascript" src="../../js/bootstrap-filestyle.min.js"></script>

    <title>浙江省散装水泥专用车辆驾驶员管理系统-试题导入</title>
</head>
<body>
<!--header start-->
<div class="header" id="header">
    <nav class="navbar navbar-default common_bg" id="header_nav">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand common_color" href="#">
                    浙江省散装水泥专用车辆驾驶员管理系统
                </a>
            </div>
            <a href="#" class="dropdown-toggle navbar-right common_color" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" id="su_user">杭州市级散装办<span class="caret"></span></a>
            <ul class="dropdown-menu dropdown-menu-right">
                <li><a href="#">查看用户信息</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="#">查看个人资料</a></li>
                <li role="separator" class="divider"></li>
                <li><a href="#">退出账号</a></li>
            </ul>
        </div>
    </nav>
</div>
<!--header end-->

<!--menu start-->
<nav id="nav_menu" class="navbar navbar-default">
    <ul class="nav navbar-nav">
        <li><a href="#" class="start menu">首页</a></li>
        <li>
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">考试管理<span class="caret"></span></a>
            <ul class="sub_menu dropdown-menu" role="menu">
                <li><a href="#" class="sub_list">所有考试</a></li>
                <li><a href="#" class="sub_list">发布考试</a></li>
                <li><a href="#" class="sub_list">报名管理</a></li>
                <li><a href="#" class="sub_list">成绩录入</a></li>
                <li><a href="#" class="sub_list">证书录入</a></li>
                <li><a href="#" class="sub_list">统计报表</a></li>
            </ul>
        </li>
        <li><a href="#" class="menu">我的证书</a></li>
        <li><a href="#" class="menu">软件下载</a></li>
        <li>
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">考试管理<span class="caret"></span></a>
            <ul class="sub_menu dropdown-menu" role="menu">
                <li><a href="#" class="sub_list">考试报名</a></li>
                <li><a href="#" class="sub_list">模拟考试</a></li>
                <li><a href="#" class="sub_list">我的考试</a></li>
            </ul>
        </li>
        <li><a href="#" class="menu">软件下载</a></li>
        <li>
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">考试管理</a>
            <ul class="sub_menu dropdown-menu" role="menu">
                <li><a href="#" class="sub_list">考试报名</a></li>
                <li><a href="#" class="sub_list">模拟考试</a></li>
                <li><a href="#" class="sub_list">我的考试</a></li>
            </ul>
        </li>
        <li><a href="#" class="menu">软件下载</a></li>


    </ul>
</nav>
<!--menu end-->

<!--main content start-->

<!--message start-->
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-primary batch_update">
                <div class="panel-heading">批量导入试题</div>
                <div class="panel-body">
                    <div class="col-md-2"><input type="button" class="btn btn-default" value="模板下载"></div>
                    <div class="col-md-8"><input type="file" name="file" class="filestyle"></div>
                    <div class="col-md-2"><input type="submit" value="文件上传" class="btn btn-primary"></div>
                </div>
            </div>
            <div class="panel panel-primary">
                <!-- Default panel contents -->
                <div class="panel-heading">单题导入<span id="operation"><a href="#" id="hide" class="glyphicon glyphicon-chevron-up"></a><a href="#" id="refresh" class="glyphicon glyphicon-refresh"></a><a href="#" id="close" class="glyphicon glyphicon-remove"></a></span></div>
                <div class="panel-body">
                    <div class="col-md-11">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <label for="questionType" class="col-sm-2 control-label">试题类型</label>
                                <div class="col-sm-10 name_div">
                                    <select class="form-control" id="questionType">
                                        <option value="0">单选题</option>
                                        <option value="1">多选题</option>
                                        <option value="2">判断题</option>
                                        <option value="3">简答题</option>
                                        <option value="-1">创建新试题类型</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group" style="display: none;">
                                <label class="col-sm-2 control-label" for="questionText">新建试题类型</label>
                                <div class="col-sm-10 name_div">
                                    <input type="text" class="form-control" id="questionText">
                                </div>

                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label" for="knowledge">试题知识点</label>
                                <div class="col-sm-10 name_div">
                                    <select class="form-control" id="knowledge">
                                        <option value="0">让车情景相关类</option>
                                        <option value="1">鸣笛相关类</option>
                                        <option value="2">灯光相关类</option>
                                        <option value="3">车辆登记相关类</option>
                                        <option value="4">实习期相关类</option>
                                        <option value="5">水泥车相关类</option>
                                        <option value="-1">创建新知识点</option>
                                    </select>

                                </div>
                            </div>
                            <div class="form-group" style="display: none;">
                                <label class="col-sm-2 control-label" for="knowledgeText">新建知识点</label>
                                <div class="col-sm-10 name_div">
                                    <input type="text" class="form-control col-sm-10" id="knowledgeText">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label" for="score">分值</label>
                                <div class="col-sm-10 name_div">
                                    <input type="text" class="form-control" disabled="disabled" id="score">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">题目难度</label>
                                <div class="col-sm-10 name_div">
                                    <label class="radio-inline" for="easy">
                                        <input type="radio"  value="0" name="difficulty" id="easy"> 易
                                    </label>
                                    <label class="radio-inline" for="medium">
                                        <input type="radio" value="1" name="difficulty" id="medium"> 中
                                    </label>
                                    <label class="radio-inline" for="difficult">
                                        <input type="radio" value="2" name="difficulty" id="difficult"> 难
                                    </label>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="question" class="col-sm-2 control-label">题干</label>
                                <div class="col-sm-10 name_div">
                                    <textarea id="question" class="form-control" placeholder="题干内容"></textarea>
                                    <label class="error">考试名称不得少于5个字！</label>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">题干图片</label>
                                <div class="col-sm-10 name_div">
                                    <div class="col-sm-7 name_div file-upload">
                                        <input type="file" name="file" class="filestyle" >
                                    </div>
                                    <div class="col-sm-3 name_div file-upload">
                                        <input type="submit" value="图片上传" class="btn btn-primary">
                                    </div>
                                    <div class="col-sm-2 name_div">
                                        <img src="" class="question-pic">
                                    </div>
                                    <div class="col-sm-7 name_div file-upload">
                                        <input type="file" name="file" class="filestyle">
                                    </div>
                                    <div class="col-sm-3 name_div file-upload">
                                        <input type="submit" value="图片上传" class="btn btn-primary">
                                    </div>
                                    <div class="col-sm-2 name_div">
                                        <img src="" class="question-pic">
                                    </div>
                                    <div class="col-sm-7 name_div file-upload">
                                        <input type="file" name="file" class="filestyle">
                                    </div>
                                    <div class="col-sm-3 name_div file-upload">
                                        <input type="submit" value="图片上传" class="btn btn-primary">
                                    </div>
                                    <div class="col-sm-2 name_div">
                                        <img src="" class="question-pic">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="question" class="col-sm-2 control-label">答案</label>
                                <div class="col-sm-10 name_div">
									<textarea id="answer_input" class="form-control"
                                              placeholder="答案（如有选项请填A/B/C……）"></textarea>
                                    <label class="error">考试名称不得少于5个字！</label>
                                </div>
                            </div>
                            <div class="form-group" id="option-type">
                                <label class="col-sm-2 control-label">选项类型</label>
                                <div class="col-sm-10 name_div">
                                    <label class="radio-inline">
                                        <input type="radio" name="optionType" value="none" id="none" checked>无选项
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" name="optionType" value="font" id="font" >文字
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" name="optionType" value="picture" id="picture">图片
                                    </label>
                                </div>
                            </div>
                            <div class="form-group" id="font-option">
                                <label class="col-sm-2 control-label">选项</label>
                                <div class="col-sm-10 name_div option_div">
                                    <div class="col-sm-10 name_div">
                                        <input type="text" placeholder="选项内容" class="form-control">
                                    </div>
                                    <div class="col-sm-1 add_div">
                                        <input type="button" class="btn btn-default new-btn" value="+">
                                    </div>
                                    <div class="col-sm-1 delete_div">
                                        <input type="button" class="btn btn-primary" value="删除" onclick="deleteFontFirst($(this))">
                                    </div>
                                </div>

                            </div>
                            <div class="form-group pic_option" id="pic-option">
                                <label class="col-sm-2 control-label">选项</label>
                                <div class="col-sm-10 name_div option_div">

                                    <!--测试-->
                                    <div class="col-sm-10 name_div">
                                        <div class="col-sm-10 optionPic-upload file-upload">
                                            <input type="file" title="Search for a file to add">
                                        </div>
                                        <div class="col-sm-2">
                                            <img src="" class="question-pic">
                                        </div>
                                    </div>
                                    <!--测试-->

                                    <div class="col-sm-1 file-upload">
                                        <input type="button" class="btn btn-default new-btn" value="+">
                                    </div>
                                    <div class="col-sm-1 deletePic_div">
                                        <input type="button" class="btn btn-primary" value="删除" onclick="firstDelete($(this));">
                                    </div>
                                </div>

                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <button type="button" class="btn btn-primary">添加题目</button>
                                </div>
                            </div>

                        </form>
                    </div>
                    <div class="col-md-1"></div>
                </div>
            </div>

        </div>
    </div>
    <!--message end-->

</div>
<!--main content end-->

<!--picOption example start-->

<div class="col-sm-10 name_div" id="picOption_example">
    <div class="col-sm-10 optionPic-upload file-upload">
        <input type="file" title="Search for a file to add">
    </div>
    <div class="col-sm-2">
        <img src="" class="question-pic">
    </div>
</div>


<div class="col-sm-1 deletePic_div" id="deletePic_div">
    <input type="button" class="btn btn-primary" value="删除" onclick="deleteOptions($(this))">
</div>

<div class="col-sm-1 delete_div" id="deleteFont_div">
    <input type="button" class="btn btn-primary" value="删除" onclick="deleteFont($(this))">
</div>

<!--picOption example end-->


<!--footer start-->
<div class="footer">
    <nav class="navbar navbar-default navbar-fixed-bottom common_bg" id="footer_navbar">
        <div class="container common_color">
            Copyright：2016~??? 版权所有：浙江省散装水泥办公室 技术支持：浙江网泽科技有限公司
        </div>
    </nav>
</div>
<!--footer end-->
<script>
    window.onload = function(){


//        判断选项填写的控件是否出现
        $("#questionType").click(function(){
            if($(this).val()==3){
//                简答题 不需要出现选项控件
                $("#option-type").hide();
                $("#font-option").hide();
                $("#pic-option").hide();
                $("#score").attr("disabled","disabled");
                $("#questionText").parent().parent().hide();
            }else if($(this).val()==-1){
                $("#questionText").parent().parent().show();
                $("#score").attr("disabled",false);

            }else{
                $("#questionText").parent().parent().hide();
                $("#score").attr("disabled","disabled");
                $("#option-type").show();
                $("#font-option").show();
            }
        });

        $("#knowledge").click(function () {
            if($(this).val()==-1){
                $("#knowledgeText").parent().parent().show();
            }else{
                $("#knowledgeText").parent().parent().hide();
            }
        });

//        判断选项内容为文字还是图片
        $(":radio").click(function () {
            if($(this).val()=='font'){
                //文字
                $("#font-option").show();
                $("#pic-option").hide();
            }else if($(this).val()=='picture'){
                //图片
                $("#font-option").hide();
                $("#pic-option").show();
            }else if($(this).val()=='none'){
                //无选项
                $("#font-option").hide();
                $("#pic-option").hide();
            }
        });
        $(".new-btn").click(function () {
            var option = $(this).parent().prev();
            var topBefore = parseInt($(this).parent().css('top'));


            if($(this).parent().parent().parent().attr('id')=='font-option'){
                $(this).parent().parent().append($("#font-option .option_div .name_div").eq(0).clone());
                $(this).parent().parent().append($("#deleteFont_div").clone());
                $("#font-option .option_div .name_div").last().children().val("");
                $("#font-option .option_div #deleteFont_div").show();
                $("#font-option .option_div .delete_div").last().css({top:topBefore+45});
                $(this).parent().css({top:topBefore+45});
            }else if($(this).parent().parent().parent().attr('id')=='pic-option'){
                $(this).parent().parent().append($("#picOption_example").clone());
                $(this).parent().parent().append($("#deletePic_div").clone());
                $("#pic-option .option_div .name_div").last().show();
                $("#pic-option .option_div #deletePic_div").show();

                $("#pic-option .option_div .deletePic_div").last().css({top:topBefore+140});
                $(this).parent().css({top:topBefore+110});
            }


        });

        var menu = new Array();
        menu = $(".menu");
        var a_hover = $(".a_hover");
        for(var k =0;k<a_hover.length;k++){
            $(a_hover[k]).next().show();
        }
        for(var i=0;i<menu.length;i++){
            menu[i].onclick = function () {
                var sub_menu = $(this).next();
                for(var j=0;j<menu.length;j++){
                    if(j!=i){
                        $(menu[j]).removeClass("a_hover");
                        $(menu[j]).next().hide();
                    }

                }
                $(this).addClass("a_hover");

                if(sub_menu.css("display")=="none"){
                    sub_menu.show();
                }else if(sub_menu.css("display")!="none"){
                    sub_menu.hide();
                }

            }
        }
        var sub_list = new Array();
        sub_list = $(".sub_list");
        for(var m = 0;m<sub_list.length;m++){
            sub_list[m].onclick = function () {
                for(var n = 0;n<sub_list.length;n++){
                    if(n!=m){
                        $(sub_list[n]).removeClass("list_hover");
                    }
                }

                $(this).addClass("list_hover");
            }
        }
    }


    function firstDelete(delete_btn){
        var parent_div = delete_btn.parent().prev().prev().children();
        $(parent_div).children().val("");
    }
    function deleteOptions(delete_btn){

        var parent_div = delete_btn.parent().prev().children();
        $(parent_div).children().val("");
    }

    function deleteFontFirst(delete_btn){
        var font = delete_btn.parent().prev().prev().children();
        $(font).val("");
    }
    function deleteFont(delete_btn){
        var font = delete_btn.parent().prev().children();
        $(font).val("");
    }

</script>
</body>
</html>